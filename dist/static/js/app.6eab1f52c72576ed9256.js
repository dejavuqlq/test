webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({},a,!1,function(t){n("wDFW")},null,null).exports,o=n("/ocq"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("div",{staticClass:"promise-box"},[this._m(0),this._v(" "),e("div",{staticClass:"write-into"},[e("router-link",{attrs:{to:"/information"}},[e("span",{staticClass:"write-into-span",attrs:{bindtap:"writeIntoClick"}},[this._v("同意并填写个人信息及签字")])]),this._v(" "),e("span",{staticClass:"write-into-span2"},[this._v("您的个人信息我们会予以保密")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-box"},[e("img",{attrs:{src:n("g+l1")}})])}]};var c,u=n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},r,!1,function(t){n("fiGv")},"data-v-bfce551a",null).exports,l=n("Zrlr"),p=n.n(l),m=n("wxAW"),d=n.n(m),v=function(t){t.preventDefault()},h=function(){function t(e){p()(this,t),this.el=e,this.canvas=document.getElementById(this.el),this.cxt=this.canvas.getContext("2d"),this.stage_info=canvas.getBoundingClientRect(),this.path={beginX:0,beginY:0,endX:0,endY:0}}return d()(t,[{key:"init",value:function(t){var e=this;this.canvas.addEventListener("touchstart",function(t){document.addEventListener("touchstart",v,!1),e.drawBegin(t)}),this.canvas.addEventListener("touchend",function(t){document.addEventListener("touchend",v,!1),e.drawEnd()}),this.clear(t)}},{key:"drawBegin",value:function(t){var e=this;window.getSelection()?window.getSelection().removeAllRanges():document.selection.empty(),this.cxt.strokeStyle="#000",this.cxt.beginPath(),this.cxt.moveTo(t.changedTouches[0].pageX-this.stage_info.left,t.changedTouches[0].pageY-this.stage_info.top),this.path.beginX=t.changedTouches[0].pageX-this.stage_info.left,this.path.beginY=t.changedTouches[0].pageY-this.stage_info.top,canvas.addEventListener("touchmove",function(){e.drawing(event)})}},{key:"drawing",value:function(t){this.cxt.lineTo(t.changedTouches[0].pageX-this.stage_info.left,t.changedTouches[0].pageY-this.stage_info.top),this.path.endX=t.changedTouches[0].pageX-this.stage_info.left,this.path.endY=t.changedTouches[0].pageY-this.stage_info.top,this.cxt.stroke()}},{key:"drawEnd",value:function(){document.removeEventListener("touchstart",v,!1),document.removeEventListener("touchend",v,!1),document.removeEventListener("touchmove",v,!1)}},{key:"clear",value:function(t){this.cxt.clearRect(0,0,300,600)}},{key:"save",value:function(){return console.log(canvas.toDataURL("image/png")),canvas.toDataURL("image/png")}}]),t}(),f={name:"Information",data:function(){return{val:!0,url:"",nameInput:"某某某",areasInput:"春波小区",TungInput:"10",unitInput:"5",roomInput:"302",screenHight:"",screenWidth:"",promiseshow1:!0,information:!0,promiseed:!1,show:{display:"block"},hidden:{display:"none"},context:null,signImage:""}},methods:{clear:function(){c.clear()},save:function(){var t=this;this.information=!1,this.promiseed=!0;var e=c.save();this.url=e,console.log(e);var n=this.context,i="        本人"+this.nameInput+"承诺居住在"+this.areasInput+this.TungInput+"幢"+this.unitInput+"单元"+this.roomInput+"室期间，遵守以下事：",a="承诺人："+this.nameInput,s=new Date,o=s.getFullYear()+"年"+s.getMonth()+"月"+s.getDate()+"日",r=1,u=0;n.font="normal bold 20px sans-serif";var l=function(e,i,a){var s=e.split(""),o="",c=[];for(e=0;e<s.length;e++)n.measureText(o).width<.8*t.screenWidth?o+=s[e]:(e--,c.push(o),o="");c.push(o);for(var l=0;l<c.length;l++)1==a?n.fillText(c[l],.9*t.screenWidth-n.measureText(o).width,30*r+50+30*l+i):n.fillText(c[l],.1*t.screenWidth,30*r+70+30*l+i);r+=c.length,u+=30*c.length};setTimeout(function(){!function(){for(var e="居民垃圾分类承诺书".split(""),i="",a=[],s=0;s<e.length;s++)n.measureText(i).width<180?i+=e[s]:(s--,a.push(i),i="");a.push(i),n.setFillStyle="#333";for(var o=0;o<a.length;o++)n.fillText(a[o],(t.screenWidth-n.measureText(i).width)/2,60+30*o),n.font="16px sans-serif"}(),l(i,0,!1),l("        1、自觉做好垃圾分类，并正确投放。",0,!1),l("        2、严格按照定时定点要求，在早上7:00-9:30，晚上6:00-8:30两个时间段投放垃圾。",0,!1),l("        3、带动家人、朋友、邻居等共同参与垃圾分类。",0,!1),l(a,30,!0),l(o,30,!0);var e=document.getElementById("ifmimg");n.drawImage(e,.3*t.screenWidth,u,120,120)},1e3)},mutate:function(t){this.$emit("input",t)},confirmClick:function(){this.signImage=proCanvas.toDataURL("image/png"),console.log(this.signImage)}},mounted:function(){this.screenHight=document.documentElement.clientHeight,this.screenWidth=document.documentElement.clientWidth;var t=document.getElementById("proCanvas");t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight,this.context=t.getContext("2d"),(c=new h("canvas")).init(),c.init()}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"information"},[n("div",{staticClass:"information",style:[t.information?t.show:t.hidden]},[n("div",{staticClass:"information-inbox"},[n("span",[t._v("姓名：")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.nameInput,expression:"nameInput"}],staticClass:"information-form",attrs:{"auto-focus":"true",type:"text",bindinput:"nameInput","confirm-type":"next",placeholder:"请输入姓名",maxlength:"6"},domProps:{value:t.nameInput},on:{input:function(e){e.target.composing||(t.nameInput=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"information-inbox"},[n("span",[t._v("小区：")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.areasInput,expression:"areasInput"}],staticClass:"information-form",attrs:{type:"text",bindinput:"areasInput","confirm-type":"next",placeholder:"例：滨河社区",maxlength:"20"},domProps:{value:t.areasInput},on:{input:function(e){e.target.composing||(t.areasInput=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"information-inbox"},[n("span",[t._v("幢：")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.TungInput,expression:"TungInput"}],staticClass:"information-form",attrs:{type:"text",bindinput:"TungInput","confirm-type":"next",placeholder:"例：13",maxlength:"3"},domProps:{value:t.TungInput},on:{input:function(e){e.target.composing||(t.TungInput=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"information-inbox"},[n("span",[t._v("单元：")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.unitInput,expression:"unitInput"}],staticClass:"information-form",attrs:{type:"text",bindinput:"unitInput","confirm-type":"next",placeholder:"例：2",maxlength:"1"},domProps:{value:t.unitInput},on:{input:function(e){e.target.composing||(t.unitInput=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"information-inbox"},[n("span",[t._v("室：")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.roomInput,expression:"roomInput"}],staticClass:"information-form",attrs:{type:"text",bindinput:"roomInput","confirm-type":"next","adjust-position":"true",placeholder:"例：302",maxlength:"6"},domProps:{value:t.roomInput},on:{input:function(e){e.target.composing||(t.roomInput=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"content"},[n("span",{staticClass:"content-title"},[t._v("请在签字框中签字：")]),t._v(" "),n("canvas",{staticClass:"firstCanvas",attrs:{width:"300",height:"300",id:"canvas"},on:{touchmove:function(t){t.preventDefault()}}},[t._v("Canvas画板")]),t._v(" "),n("img",{attrs:{src:t.url,alt:"",id:"ifmimg"}}),t._v(" "),n("button",{attrs:{bindtap:"clearClick"},on:{click:t.clear}},[t._v("清除签字重写")])]),t._v(" "),n("div",{staticClass:"information-form-input",on:{click:t.save}},[n("span",[t._v("生成承诺书")])]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"promiseed-box",style:[t.promiseed?t.show:t.hidden]},[n("canvas",{staticClass:"promiseed-canvas",attrs:{id:"proCanvas"}}),t._v(" "),n("div",{staticClass:"confirm",on:{click:t.confirmClick}},[n("span",[t._v("确认并提交")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"back-input",attrs:{bindtap:"backClick"}},[e("span",[this._v("取消")])])}]};var _=n("VU/8")(f,g,!1,function(t){n("cAoe")},"data-v-341893c8",null).exports;i.a.use(o.a);var x=new o.a({routes:[{path:"/",name:"HelloWorld",component:u},{path:"/information",name:"Information",component:_}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:x,components:{App:s},template:"<App/>"})},cAoe:function(t,e){},fiGv:function(t,e){},"g+l1":function(t,e,n){t.exports=n.p+"static/img/28.b4d2da4.jpg"},wDFW:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6eab1f52c72576ed9256.js.map